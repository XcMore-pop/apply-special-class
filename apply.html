<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô | ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#f6fbf7;--card:#fff;--txt:#0f172a;--muted:#475569;--line:#e2e8f0;--brand:#16a34a;--brand2:#22c55e;--shadow:0 18px 40px rgba(2,6,23,.08);}
    *{box-sizing:border-box}
    body{margin:0;font-family:"Sarabun",system-ui,-apple-system,sans-serif;background:
      radial-gradient(900px 450px at 20% 0%, rgba(34,197,94,.18), transparent 55%), var(--bg);color:var(--txt)}
    .wrap{max-width:1050px;margin:0 auto;padding:22px}
    a.back{display:inline-flex;gap:10px;align-items:center;text-decoration:none;color:var(--txt);padding:10px 12px;border:1px solid var(--line);border-radius:14px;background:#fff;box-shadow:0 10px 22px rgba(2,6,23,.06)}
    .card{margin-top:14px;border:1px solid var(--line);border-radius:22px;background:rgba(255,255,255,.92);box-shadow:var(--shadow);padding:16px}
    .top{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;align-items:flex-start}
    .title{margin:0;font-size:22px}
    .hint{color:var(--muted);font-size:13px;line-height:1.6}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px;margin-top:10px}
    .col6{grid-column:span 12}
    @media(min-width:900px){.col6{grid-column:span 6}}
    label{display:block;color:var(--muted);font-size:13px;margin:10px 0 6px}
    input,select,textarea{width:100%;padding:12px 12px;border-radius:14px;border:1px solid var(--line);background:#fff;color:var(--txt);outline:none}
    textarea{min-height:90px;resize:vertical}
    .filebox{border:1px dashed #cbd5e1;border-radius:16px;padding:12px;background:rgba(248,250,252,.7)}
    .filename{margin-top:8px;font-size:13px;color:var(--muted)}
    .req{color:#ef4444;font-weight:700}
    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
    button,a.btn{display:inline-flex;gap:10px;align-items:center;padding:12px 14px;border-radius:14px;border:1px solid var(--line);background:#fff;color:var(--txt);cursor:pointer;text-decoration:none;box-shadow:0 10px 22px rgba(2,6,23,.06)}
    button.primary{border-color:transparent;background:linear-gradient(135deg,var(--brand),var(--brand2));color:#fff;box-shadow:0 16px 30px rgba(22,163,74,.22)}
    .bar{height:10px;border-radius:999px;background:#e2e8f0;overflow:hidden;margin-top:10px}
    .bar > div{height:100%;width:35%;background:linear-gradient(90deg,var(--brand),var(--brand2))}
    .note{margin-top:10px;color:var(--muted);font-size:13px}
    .toast{margin-top:10px;padding:10px 12px;border:1px solid #fecaca;background:#fff1f2;color:#991b1b;border-radius:14px;display:none}
  </style>
</head>
<body>
  <div class="wrap">
    <a class="back" href="index.html">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>

    <div class="card">
      <div class="top">
        <div>
          <h2 class="title">‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</h2>
          <div class="hint">‡∏Å‡∏£‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö <span class="req">*</span> ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏™‡πà‡∏á ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏•‡∏Ç‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</div>
          <div class="bar"><div></div></div>
        </div>
        <div class="hint">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå: PDF/JPG/PNG</div>
      </div>

      <div id="toast" class="toast"></div>

      <form id="f">
        <div class="grid">
          <div class="col6">
            <label>‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô <span class="req">*</span></label>
            <input required name="studentName" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ò‡∏ô‡πÇ‡∏¢‡∏ò‡∏¥‡∏ô ‡πÉ‡∏à‡∏î‡∏µ" />
          </div>
          <div class="col6">
            <label>‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£/‡πÄ‡∏•‡∏Ç‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô <span class="req">*</span></label>
            <input required name="studentId" inputmode="numeric" placeholder="‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç" />
          </div>

          <div class="col6">
            <label>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏±‡∏Ñ‡∏£ <span class="req">*</span></label>
            <select required name="grade">
              <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
              <option>‡∏°.1 ‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏¥‡πÄ‡∏®‡∏©</option>
              <option>‡∏°.4 ‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏¥‡πÄ‡∏®‡∏©</option>
            </select>
          </div>
          <div class="col6">
            <label>‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° <span class="req">*</span></label>
            <select required name="program">
              <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
              <option>SMTE</option>
              <option>EP</option>
              <option>Gifted</option>
            </select>
          </div>

          <div class="col6">
            <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ <span class="req">*</span></label>
            <input required name="phone" inputmode="tel" placeholder="0xxxxxxxxx" />
          </div>
          <div class="col6">
            <label>‡∏≠‡∏µ‡πÄ‡∏°‡∏• (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
            <input name="email" type="email" placeholder="example@email.com" />
          </div>

          <div class="col6">
            <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á <span class="req">*</span></label>
            <input required name="parentName" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á" />
          </div>
          <div class="col6">
            <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á <span class="req">*</span></label>
            <input required name="parentPhone" inputmode="tel" placeholder="0xxxxxxxxx" />
          </div>

          <div class="col6">
            <label>‡∏õ‡∏û.1/‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô <span class="req">*</span></label>
            <div class="filebox">
              <input required id="doc1" name="doc1" type="file" accept=".pdf,.jpg,.jpeg,.png" />
              <div id="doc1name" class="filename">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå</div>
            </div>
          </div>

          <div class="col6">
            <label>‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô <span class="req">*</span></label>
            <div class="filebox">
              <input required id="photo" name="photo" type="file" accept=".jpg,.jpeg,.png" />
              <div id="photoname" class="filename">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå</div>
            </div>
          </div>

          <div class="col6" style="grid-column:span 12">
            <label>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
            <textarea name="note" placeholder="‡∏ñ‡πâ‡∏≤‡∏°‡∏µ"></textarea>
          </div>
        </div>

        <div class="actions">
          <button class="primary" type="submit">‚úÖ ‡∏™‡πà‡∏á‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</button>
          <a class="btn" href="status.html">üîé ‡πÑ‡∏õ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</a>
        </div>
        <div class="note">‡πÄ‡∏î‡πÇ‡∏°‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (localStorage) ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏à‡∏£‡∏¥‡∏á</div>
      </form>
    </div>
  </div>

  <script>
    const f = document.getElementById('f');
    const toast = document.getElementById('toast');

    function setFileName(inputId, labelId){
      const el = document.getElementById(inputId);
      const lab = document.getElementById(labelId);
      el.addEventListener('change', ()=>{
        lab.textContent = el.files && el.files[0] ? el.files[0].name : '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå';
      });
    }
    setFileName('doc1','doc1name');
    setFileName('photo','photoname');

    function makeAppId(){
      const t = new Date();
      const y = t.getFullYear();
      const m = String(t.getMonth()+1).padStart(2,'0');
      const d = String(t.getDate()).padStart(2,'0');
      const r = Math.floor(Math.random()*9000)+1000;
      return `APP-${y}${m}${d}-${r}`;
    }

    function showError(msg){
      toast.style.display = 'block';
      toast.textContent = msg;
      toast.scrollIntoView({behavior:'smooth', block:'start'});
    }

    f.addEventListener('submit', (e)=>{
      e.preventDefault();
      toast.style.display = 'none';

      const fd = new FormData(f);

      const phone = (fd.get('phone') || '').toString().trim();
      const parentPhone = (fd.get('parentPhone') || '').toString().trim();
      if(phone.length < 9 || parentPhone.length < 9){
        showError('‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏™‡∏±‡πâ‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏•‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ');
        return;
      }

      const appId = makeAppId();
      const payload = {
        appId,
        studentName: fd.get('studentName'),
        studentId: fd.get('studentId'),
        grade: fd.get('grade'),
        program: fd.get('program'),
        phone,
        email: fd.get('email') || '',
        parentName: fd.get('parentName'),
        parentPhone,
        note: fd.get('note') || '',
        status: '‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£',
        createdAt: new Date().toISOString()
      };

      localStorage.setItem('latestApplication', JSON.stringify(payload));
      localStorage.setItem('latestApplicationId', appId);
      window.location.href = `success.html`;
    });
  </script>
</body>
</html>
